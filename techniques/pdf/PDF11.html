<!DOCTYPE html>
<html lang="ja">
   <head>
      <meta charset="UTF-8" />
      <title>PDF11: PDF 文書内で Link アノテーションと /Link 構造要素を使用してリンクとリンクテキストを提供する
      </title>
      <link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/base" />
      <link rel="stylesheet" type="text/css" href="../techniques.css" />
      <link rel="stylesheet" type="text/css" href="../slicenav.css" />
   </head>
   <body>
      <nav>
         <ul id="navigation">
            <li><a href="../#techniques" title="Table of Contents">目次</a></li>
            <li><a href="../#introduction" title="Introduction to Techniques">イントロダクション</a></li>
            <li><a href="PDF10">前の達成方法: PDF10</a></li>
            <li><a href="PDF12">次の達成方法: PDF12</a></li>
         </ul>
      </nav>
      <nav class="navtoc">
         <p>このページのコンテンツ:</p>
         <ul id="navbar">
            <li><a href="#important-information">達成方法に関する重要な情報</a></li>
            <li><a href="#applicability">適用 (対象)</a></li>
            <li><a href="#description">解説</a></li>
            <li><a href="#examples">事例</a></li>
            <li><a href="#resources">参考リソース</a></li>
            <li><a href="#related">関連する達成方法</a></li>
            <li><a href="#tests">検証</a></li>
         </ul>
      </nav>
      <h1>PDF 文書内で Link アノテーションと /Link 構造要素を使用してリンクとリンクテキストを提供する
      </h1>
      <section id="important-information">
         <h2>達成方法に関する重要な情報</h2>
         <p>この達成方法 (参考) の使用法と、この達成方法が WCAG 2.1 達成基準 (規定) とどのように関係するのかに関する重要な情報については、<a href="https://waic.jp/docs/WCAG21/Understanding/understanding-techniques">WCAG 達成基準の達成方法を理解する</a>を参照のこと。適用 (対象) のセクションは、その達成方法の範囲について説明しており、特定の技術に関する達成方法の存在は、その技術があらゆる状況で WCAG 2.1 を満たすコンテンツを作成するために使用できることを意味するものではない。
         </p>
      </section>
      <main>
         <section id="applicability">
            <h2>適用 (対象)</h2>
            <p>リンクを含む PDF 文書</p>
            <p>これは、次の達成基準に関する達成方法である:</p>
            <ul>
               <li><a href="https://waic.jp/docs/WCAG21/Understanding/info-and-relationships">達成基準 1.3.1: 情報及び関係性</a> (書かれていない達成方法を満たす手段として十分)
               </li>
               <li><a href="https://waic.jp/docs/WCAG21/Understanding/keyboard">達成基準 2.1.1: キーボード</a> (書かれていない達成方法を満たす手段として十分)
               </li>
               <li><a href="https://waic.jp/docs/WCAG21/Understanding/link-purpose-in-context">達成基準 2.4.4: リンクの目的 (コンテキスト内)</a> (<a href="../general/G91">G91: リンクの目的を説明したリンクテキストを提供する</a>の達成方法として十分)
               </li>
               <li><a href="https://waic.jp/docs/WCAG21/Understanding/link-purpose-link-only">達成基準 2.4.9: リンクの目的 (リンクのみ)</a> (書かれていない達成方法を満たす手段として十分)
               </li>
            </ul>
         </section>
         <section id="description">
            <h2>解説</h2>
            <p>この達成方法の目的は、キーボードおよび支援技術の利用者が認識できるように PDF 文書内のリンクテキストをマークアップする方法を示すことである。つまり、リンクが別の形式で表示されたときに認識可能であるように、リンク情報をプログラム的に利用可能にする。これは通常、PDF のオーサリングツールを使用して行う。 
            </p>
            <p>PDF 文書内のリンクは、そのサブツリー内のリンクタグおよびオブジェクトで表わされ、リンクオブジェクト参照 (リンク注釈) と 一つまたは複数のテキストオブジェクトで構成される。リンクタグ内のテキストオブジェクトまたはオブジェクトは、リンクの名前を提供するために支援技術で使用される。
            </p>
            <p>WCAG 達成基準に適合するリンクを提供する最も容易な方法は、PDF に変換する前の、文書をオーサリングする段階でリンクを作成することである。
            </p>
            <p>ただし、元のオーサリングツールを使用してリンクを作成することができない場合もある。そのような場合は、Adobe Acrobat Pro を使用してリンクを作成することができる。ただし、Adobe Acrobat Pro のリンクダイアログボックスを使用して作成したツールヒントは、スクリーンリーダーからアクセスできないため、そのリンクテキストまたはリンクの文脈で目的を明確にすること。
            </p>
            <p>いかなる場合でも、次の一般的なテクニックで説明されているように、リンクの目的を明確にする必要がある。
            </p>
            <ul>
               
               <li> 
                  <a href="../general/G53">G53: リンクテキストとそれが含まれている文中のテキストとを組み合わせて、リンクの目的を特定する</a> 
                  
               </li>
               
               <li> 
                  <a href="../general/G91">G91: リンクの目的を説明したリンクテキストを提供する</a> 
                  
               </li>
               
            </ul>
         </section>
         <section id="examples">
            <h2>事例</h2>
            <section class="example" id="example-1-creating-a-hyperlink-in-microsoft-word-2007-before-conversion&#xA;----&#x9;&#x9;&#x9;&#x9;&#x9;to-pdf">
               <h3>例 1: PDF に変換する前に Microsoft Word 2007 でハイパーリンクを作成する
               </h3>
               <p>この事例は Microsoft Word の場合を示している。同様の機能を実行するソフトウェアツールは他にも存在する。他のソフトウェアツールのリストについては、「」を参照のこと。
               </p>
               <div class="note">
               <div role="heading" class="note-title marker" aria-level="4">訳注:</div>
               <div>
               <p>上記「」に該当する記述が、WCAG 2.1 達成方法集の原文では削除されている。WCAG 2.0 達成方法集においては、<a href="https://waic.jp/docs/WCAG-TECHS/pdf_notes.html">PDF テクノロジーノート</a>の中に「<a href="https://waic.jp/docs/WCAG-TECHS/pdf_notes.html#pdf_notes_acc-sup_files_applications">アクセシビリティがサポートされている PDF オーサリングツール</a>」というセクションがある。</p>
               </div>
               </div>
               <p>Microsoft Word でハイパーリンクを作成するには、まずリンク先の項目 (Web ページなど) を特定する。次に、以下の作業を行う。
               </p>
               <ol>
                  
                  <li>
                     
                     <p>次のいずれかの作業を行う</p>
                     
                     <ul>
                        
                        <li>リボン上にある「挿入」を選択し、リンクツールの「ハイパーリンク」を選択する 
                        </li>
                        
                        <li>Ctrl + K キーボードショートカットを使用する</li>
                        
                     </ul>
                     
                  </li>
                  
                  <li>ハイパーリンクの挿入ダイアログボックスで、リンク先とリンクテキストを追加する
                  </li>
                  
                  <li> タグ付き PDF としてファイルを保存する (「<a href="#pdf_notes">PDF テクノロジーノート</a>」を参照のこと。) 
                  </li>
                  
               </ol>
            </section>
            <section class="example" id="example-2-creating-a-hyperlink-in-openoffice.org-writer-2.2-before&#xA;----&#x9;&#x9;&#x9;&#x9;conversion-to-pdf">
               <h3>例 2: PDF に変換する前に OpenOffice.org Writer 2.2 でハイパーリンクを作成する
               </h3>
               <p>この事例は OpenOffice.org Writer の場合を示している。同様の機能を実行するソフトウェアツールは他にも存在する。他のソフトウェアツールのリストについては、「」を参照のこと。
               </p>
               <div class="note">
               <div role="heading" class="note-title marker" aria-level="4">訳注:</div>
               <div>
               <p>上記「」に該当する記述が、WCAG 2.1 達成方法集の原文では削除されている。WCAG 2.0 達成方法集においては、<a href="https://waic.jp/docs/WCAG-TECHS/pdf_notes.html">PDF テクノロジーノート</a>の中に「<a href="https://waic.jp/docs/WCAG-TECHS/pdf_notes.html#pdf_notes_acc-sup_files_applications">アクセシビリティがサポートされている PDF オーサリングツール</a>」というセクションがある。</p>
               </div>
               </div>
               <ol>
                  
                  <li>［挿入］メニューの［ハイパーリンク］を選択する</li>
                  
                  <li>［ハイパーリンク］ダイアログボックスで、「ハイパーリンクの種類」の「ターゲット」フィールドにリンク先の URI を挿入する
                  </li>
                  
                  <li> 「詳細設定」の「テキスト」フィールドにリンクテキストを挿入する (このダイアログボックスを表示する前に、文書のテキストからリンクテキストを選択することもできる。選択したテキストが「テキスト」フィールドに挿入される)
                  </li>
                  
                  <li>タグ付き PDF としてファイルを保存する (「<a href="#pdf_notes">PDF テクノロジーノート</a>」を参照のこと)  
                  </li>
                  
               </ol>
            </section>
            <section class="example" id="example-3-creating-a-hyperlink-using-the-create-link-dialog-in-adobe&#xA;----&#x9;&#x9;&#x9;&#x9;acrobat-9-pro">
               <h3>例 3: Adobe Acrobat 9 Pro でリンクの作成ダイアログボックスを使用してハイパーリンクを作成する               </h3>
               <p>この事例は Adobe Acrobat Pro の場合を示している。同様の機能を実行するソフトウェアツールは他にも存在する。他のソフトウェアツールのリストについては、「」を参照のこと。
               </p>
               <div class="note">
               <div role="heading" class="note-title marker" aria-level="4">訳注:</div>
               <div>
               <p>上記「」に該当する記述が、WCAG 2.1 達成方法集の原文では削除されている。WCAG 2.0 達成方法集においては、<a href="https://waic.jp/docs/WCAG-TECHS/pdf_notes.html">PDF テクノロジーノート</a>の中に「<a href="https://waic.jp/docs/WCAG-TECHS/pdf_notes.html#pdf_notes_acc-sup_files_applications">アクセシビリティがサポートされている PDF オーサリングツール</a>」というセクションがある。</p>
               </div>
               </div>
               <ol>
                  
                  <li>リンクテキストにするテキストを選択する </li>
                  
                  <li>コンテキストメニューから［リンクの作成］を選択する</li>
                  
               </ol>
               <figure id="figure-pdf-text-hyperlink">
                  <img src="img/capelink1.jpg" />
                  
                  
                  <figcaption>図 1 ハイパーリンクを作成するためにテキストを選択した PDF 文書のイメージ。コンテキストメニューでは［リンクの作成］が選択されている。
                  </figcaption>
                  
                  
               </figure>
               <p>3. リンクの作成ダイアログボックスの指示に従い、以下に示されているように、リンクの外観を指定する
               </p>
               <figure id="figure-acrobat-create-link">
                  <img src="img/capelink2.jpg" />
                  
                  
                  <figcaption>図 2 リンクの作成ダイアログを開き、リンクの外観オプションを選択した状態の PDF文書 のイメージ。
                  </figcaption>
                  
                  
               </figure>
               <p>「次へ」を選択し、URI を指定する。次の画像は、結果として表示されるハイパーリンクとツールヒントを示している。
               </p>
               <figure id="figure-hyperlink-create-link-dialog">
                  <img src="img/capelink3.jpg" />
                  
                  
                  <figcaption>図 3 リンクの作成ダイアログでハイパーリンク (マウスオーバー時のツールチップを含む) を作成した PDF 文書のイメージ。
                  </figcaption>
                  
                  
               </figure>
               <p class="working-example">この事例のサンプルとして、<a href="https://www.w3.org/WAI/WCAG21/working-examples/pdf-links/links.pdf">PDF でハイパーリンクを作成したサンプル (PDF ファイル)<a> がある。
               </p>
            </section>
            <section class="example" id="example-4-marking-up-link-text-using-a-/link-structure-element">
               <h3>例 4: /Link 構造エレメントを使用してリンクテキストをマークアップする</h3>
               <p>PDF 文書内のリンク注釈は、コンテンツストリームの特定のオブジェクトではなくページの幾何学的領域に関連付けられる。このため、リンク注釈は単独では、視覚障害のある利用者、またはハイパーテキストリンクを起動するためにどのコンテンツをアクティブ化できるのかを判断する必要のあるアプリケーションにとって有用ではない。 
               </p>
               <p>タグ付き PDF の /Link エレメントは、PDF の論理構造を使用してコンテンツ項目とリンク注釈の間の関連付けを確立し、HTML ハイパーテキストリンクに相当する機能を提供する。 
               </p>
               <p>HTML の場合、次の事例はハイパーテキストリンクを含むテキストを生成する。 
               </p><pre xml:space="preserve">Here is some text &lt;a href="https://www.w3.org/WAI/"&gt; with a link &lt;/a&gt; inside.
</pre><p>PDF の場合、最初にページが表現され、オブジェクトアクションが発生する領域にリンク注釈が配置される必要がある。
               </p>
               <p>次のコードフラグメントは、アンダーラインの付いた青色で表示されるリンクテキストを使用する、上述の HTML に相当する PDF を示している。次に続く 2 番目のコードフラグメントは、関連付けられた論理構造階層を示している。これは通常、オーサリングツールを使用して行う。
               </p><pre xml:space="preserve"> /P &lt;&lt;/MCID 0&gt;&gt;                                                %Marked Content Sequence 0 (paragraph)
  BDC                                                          %Begin marked content sequence
   BT                                                          %Begin text object
    /F1 11.04 Tf                                               %set text font and size
    1 0 0 1 72.024 709.54 Tm                                   %set text matrix
    0 g                                                        %set non stroking color to black
    0 G                                                        %set stroke color to black
   [(H)3(ere )-4(is s)10(o)5(m)-4(e)9( t)-3(e)9(xt)-3( )] TJ   %Show text preceding the link" Here is some text"
   ET                                                          %end text object
  EMC                                                          %end marked content sequence
 
 /Span &lt;&lt;/MCID 1&gt;&gt;                                             %Marked Content Sequence 1 (underlined link text)
  BDC                                                          %Begin marked content sequence
   BT                                                          %Begin text object
    1 0 0 1 152.42 709.54 Tm                                   %set text matrix
    0 0 1 rg                                                   %set non-stroking color to blue
    0 0 1 RG                                                   %set stroke color to blue
    [(with a )-2(li)3(n)14(k)] TJ                              %Show link text " with a link"
   ET                                                          %end text object
    0 0 1 rg                                                   %set stroke color to blue
    152.42 707.62 45.984 0.72 re                               %rectangle operator - target area for the link
    f*                                                         %fill the path using the even-odd rule
  EMC                                                          %end marked content sequence
 
 /P &lt;&lt;/MCID 2&gt;&gt;                                                %Marked Content Sequence 2 (paragraph)
  BDC                                                          %Begin marked content sequence
   BT                                                          %begin text object
    1 0 0 1 198.41 709.54 Tm                                   %set text matrix                                            
    0 g                                                        %set non stroking color to black
    0 G                                                        %set stroke color to black
    [( )] TJ                                                   %empty text string showing white space
   ET                                                          %end text object
   BT                                                          %begin text object
    1 0 0 1 200.93 709.54 Tm                                   %set text matrix
    [(in)5(sid)5(e.)] TJ                                       %show text following the link "inside."
   ET                                                          %end text
   BT                                                          %begin text object
    1 0 0 1 229.97 709.54 Tm                                   %set text matrix
    [( )] TJ                                                   %empty text string showing white space
   ET                                                          %end text object
  EMC                                                          %end marked content sequence 
  </pre><p> 次のコードフラグメントは、コンテンツ項目とリンク注釈の間の関連付けを確立する論理構造からの抜粋である。 
               </p><pre xml:space="preserve"> 11 0 obj                                              %Object ID 11, generation   0, obj keyword
  &lt;&lt;/K[1                                               %immediate child of the structure tree root
   &lt;&lt;
    /Obj 26 0 R                                        %reference to Object 26
    /Type/OBJR                                         %this object describes an indirect object reference
   &gt;&gt;]
    /P 12 0 R
    /Pg 17 0 R
    /S/Link
  &gt;&gt;
 endobj
 
 26 0 obj                                              %object ID 26 which is referenced by the OBJR in Object 11
  &lt;&lt;/A 31 0 R
   /BS
   &lt;&lt;/S/S
     /Type/Border
     /W 0
   &gt;&gt;
   /Border[0 0 0]                                      %a colorless border
   /H/I
   /Rect[150.128 694.558 200.551 720.0]                %the boundaries defining target area where link annotation is active
   /StructParent 1
   /Type/Annot                                         %Structure element is an annotation
   /Subtype/Link
  &gt;&gt;                                                   %It is a link annotation                                                 
 endobj     
 31 0 obj                                              %Object 31, gen 0, obj
  &lt;&lt;/S/URI                                             %Object type is URI action
    /URI(https://www.w3.org/WAI)                        %The Uniform resource identifier to resolve
  &gt;&gt;   
 endobj
</pre></section>
         </section>
         <section id="resources">
            <h2>参考リソース</h2>
            <p>参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p>
            <ul>
               
               <li> Section 14.8.4.4.2 (Link Elements) in <a href="http://www.adobe.com/content/dam/Adobe/en/devnet/pdf/pdfs/PDF32000_2008.pdf">PDF
                     					1.7 (ISO 32000-1)</a> 
                  
               </li>
               
               <li>
                  <a href="http://www.adobe.com/accessibility/products/acrobat.html">PDF and Accessibility</a>
                  
               </li>
               
            </ul>
         </section>
         <section id="related">
            <h2>関連する達成方法</h2>
            <ul>
               
               <li><a href="../general/G53">G53: リンクテキストとそれが含まれている文中のテキストとを組み合わせて、リンクの目的を特定する</a></li>
               
               <li><a href="../general/G91">G91: リンクの目的を説明したリンクテキストを提供する</a></li>
               
               <li><a href="PDF13">PDF13: PDF 文書内のリンクに対して /Alt エントリを使用して置換テキストを提供する</a></li>
               
            </ul>
         </section>
         <section id="tests">
            <h2>検証</h2>
            <section class="procedure" id="procedure">
               <h3>手順</h3>
               
               <p>各ハイパーリンクについて、リンクが正しくタグ付けされており、リンクテキストが適切に表示されることを確認する。 
               </p>
               
               <ol>
                  
                  <li>PDF 文書をスクリーンリーダーで読み上げると、リンクが正しく読み上げられ、リンクの目的 (例えば、リンク先) が説明されている。
                  </li>
                  
                  <li>タグツリーを視覚的にスキャンすると、リンクが正しくタグ付けされ、(スクリーン拡大鏡の利用者と、認知障害があるが視力のある利用者向けに) リンクテキストが表示される。
                  </li>
                  
                  <li>/Link エントリ値を表示できるツールを使用して PDF 文書を開き、ハイパーリンクとリンクテキストを表示する。
                  </li>
                  
                  <li> アクセシビリティ API を通じて文書を表示するツールを使用し、リンクに正しいリンクテキストがあることを確認する。
                  </li>
                  
                  <li>各リンクにタブ移動し、Enter を押すことによりそのリンク先にアクセスできる。 
                  </li>
                  
               </ol>
               
            </section>
            <section class="results" id="expected-results">
               <h3>期待される結果</h3>
               
               <ul>
                  
                  <li>#1 又は #2 又は #3 又は #4 の結果が真である。</li>
                  
                  <li>#5 の結果が真である。</li>
                  
               </ul>
               
            </section>
         </section>
      </main>
   </body>
</html>